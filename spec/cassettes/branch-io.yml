---
http_interactions:
- request:
    method: post
    uri: https://api.branch.io/v1/url
    body:
      encoding: UTF-8
      string: '{"sdk":"api","branch_key":"<BRANCH_KEY>"}'
    headers:
      Content-Type:
      - application/json
      Accept:
      - application/json
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '47'
      Connection:
      - keep-alive
      Access-Control-Allow-Origin:
      - "*"
      Date:
      - Wed, 25 Jul 2018 16:16:27 GMT
      Server:
      - openresty/1.11.2.1
      X-Cache:
      - Miss from cloudfront
      Via:
      - 1.1 80a9a66193c3e6350d12faf1c397c974.cloudfront.net (CloudFront)
      X-Amz-Cf-Id:
      - X9u2ow_NQdCuFQe4PON7i-icPdv7XOp1g2zLd5v7HhRAZRQjAJG_UA==
    body:
      encoding: UTF-8
      string: '{"url":"https://uym7.test-app.link/Get7P7lnQO"}'
    http_version: 
  recorded_at: Wed, 25 Jul 2018 16:16:27 GMT
- request:
    method: post
    uri: https://api.branch.io/v1/url
    body:
      encoding: UTF-8
      string: '{"sdk":"api","branch_key":"<BRANCH_KEY>","tags":["test"],"channel":"test","feature":"spec","stage":"test","data":{"value":42}}'
    headers:
      Content-Type:
      - application/json
      Accept:
      - application/json
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '47'
      Connection:
      - keep-alive
      Access-Control-Allow-Origin:
      - "*"
      Date:
      - Wed, 25 Jul 2018 16:16:27 GMT
      Server:
      - openresty/1.11.2.1
      X-Cache:
      - Miss from cloudfront
      Via:
      - 1.1 70baa6f69f875c9e172c9118322fd6b5.cloudfront.net (CloudFront)
      X-Amz-Cf-Id:
      - VkBzoz25VsOGBPmP2jzBa5V_n1ueDMUFtac8tTcUxrHRX3JpX5G-UA==
    body:
      encoding: UTF-8
      string: '{"url":"https://uym7.test-app.link/SYlZS9lnQO"}'
    http_version: 
  recorded_at: Wed, 25 Jul 2018 16:16:27 GMT
- request:
    method: post
    uri: https://api.branch.io/v1/url/bulk/<BRANCH_KEY>
    body:
      encoding: UTF-8
      string: "[]"
    headers:
      Content-Type:
      - application/json
      Accept:
      - application/json
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '2'
      Connection:
      - keep-alive
      Access-Control-Allow-Origin:
      - "*"
      Date:
      - Wed, 25 Jul 2018 16:16:28 GMT
      Server:
      - openresty/1.13.6.2
      X-Cache:
      - Miss from cloudfront
      Via:
      - 1.1 b4eebfe47952c39ed1b8a9637b729eb4.cloudfront.net (CloudFront)
      X-Amz-Cf-Id:
      - q_LZc3jjCEJzxUfzgVkWp6n1SP1GgRedO0eEildOdQZs8bqL6BDMVQ==
    body:
      encoding: UTF-8
      string: "[]"
    http_version: 
  recorded_at: Wed, 25 Jul 2018 16:16:28 GMT
- request:
    method: post
    uri: https://api.branch.io/v1/url/bulk/<BRANCH_KEY>
    body:
      encoding: UTF-8
      string: '[{"channel":"test"},{"channel":"test"}]'
    headers:
      Content-Type:
      - application/json
      Accept:
      - application/json
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '97'
      Connection:
      - keep-alive
      Access-Control-Allow-Origin:
      - "*"
      Date:
      - Wed, 25 Jul 2018 16:16:28 GMT
      Server:
      - openresty/1.11.2.1
      X-Cache:
      - Miss from cloudfront
      Via:
      - 1.1 775d75965b01105eed9092c3db86ea35.cloudfront.net (CloudFront)
      X-Amz-Cf-Id:
      - IJ1-UUSmVrhdsCKkDoPxBj8WCtMZ78QZqoYW2GpBrCBZY29cNEX2nQ==
    body:
      encoding: UTF-8
      string: '[{"url":"https://uym7.test-app.link/wzO80cmnQO"},{"url":"https://uym7.test-app.link/wzO80cmnQO"}]'
    http_version: 
  recorded_at: Wed, 25 Jul 2018 16:16:28 GMT
- request:
    method: post
    uri: https://api.branch.io/v1/url
    body:
      encoding: UTF-8
      string: '{"sdk":"api","branch_key":"<BRANCH_KEY>","tags":["test"],"channel":"code","feature":"test"}'
    headers:
      Content-Type:
      - application/json
      Accept:
      - application/json
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '47'
      Connection:
      - keep-alive
      Access-Control-Allow-Origin:
      - "*"
      Date:
      - Wed, 25 Jul 2018 16:16:28 GMT
      Server:
      - openresty/1.11.2.1
      X-Cache:
      - Miss from cloudfront
      Via:
      - 1.1 80a9a66193c3e6350d12faf1c397c974.cloudfront.net (CloudFront)
      X-Amz-Cf-Id:
      - hBZLvZ3-iAPP3Y0VuATcR-uWsOxBaJYk7SvciwLzigQN0y-Cwz7O5w==
    body:
      encoding: UTF-8
      string: '{"url":"https://uym7.test-app.link/2P5ZMemnQO"}'
    http_version: 
  recorded_at: Wed, 25 Jul 2018 16:16:29 GMT
- request:
    method: get
    uri: https://api.branch.io/v1/url?branch_key=<BRANCH_KEY>&url=https://uym7.test-app.link/2P5ZMemnQO
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Content-Type:
      - application/json
      Accept:
      - application/json
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '285'
      Connection:
      - keep-alive
      Access-Control-Allow-Origin:
      - "*"
      Date:
      - Wed, 25 Jul 2018 16:16:29 GMT
      Server:
      - openresty/1.11.2.1
      Vary:
      - Accept-Encoding
      X-Cache:
      - Miss from cloudfront
      Via:
      - 1.1 6e4552eff3e310bad9fd1a8c14b867d8.cloudfront.net (CloudFront)
      X-Amz-Cf-Id:
      - C_V8Mh69LKAKEh6XMaCBi_sW_9gGx7uhLBpClOKdVW8LTT2lgxk75Q==
    body:
      encoding: UTF-8
      string: '{"data":{"+url":"https://uym7.test-app.link/2P5ZMemnQO","~tags":["test"],"~creation_source":0,"~id":"550700213116223952","$one_time_use":false,"~channel":"code","~feature":"test","url":"https://uym7.test-app.link/2P5ZMemnQO"},"type":0,"tags":["test"],"feature":"test","channel":"code"}'
    http_version: 
  recorded_at: Wed, 25 Jul 2018 16:16:29 GMT
- request:
    method: post
    uri: https://api.branch.io/v1/url
    body:
      encoding: UTF-8
      string: '{"sdk":"api","branch_key":"<BRANCH_KEY>","tags":["test","test-update"],"channel":"code","feature":"test"}'
    headers:
      Content-Type:
      - application/json
      Accept:
      - application/json
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '47'
      Connection:
      - keep-alive
      Access-Control-Allow-Origin:
      - "*"
      Date:
      - Wed, 25 Jul 2018 16:16:29 GMT
      Server:
      - openresty/1.11.2.1
      X-Cache:
      - Miss from cloudfront
      Via:
      - 1.1 91085d9a0810fca6dacd51dae7dd6a32.cloudfront.net (CloudFront)
      X-Amz-Cf-Id:
      - 4mX8afdsGBN20X1-P_KcCHAIwYLCcXxs7BQqa96wTVosEfsPDHbjVQ==
    body:
      encoding: UTF-8
      string: '{"url":"https://uym7.test-app.link/vvb0YimnQO"}'
    http_version: 
  recorded_at: Wed, 25 Jul 2018 16:16:29 GMT
- request:
    method: put
    uri: https://api.branch.io/v1/url?url=https://uym7.test-app.link/vvb0YimnQO
    body:
      encoding: UTF-8
      string: '{"sdk":"api","branch_key":"<BRANCH_KEY>","branch_secret":"<BRANCH_SECRET>","channel":"retest"}'
    headers:
      Content-Type:
      - application/json
      Accept:
      - application/json
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '256'
      Connection:
      - keep-alive
      Access-Control-Allow-Origin:
      - "*"
      Date:
      - Wed, 25 Jul 2018 16:16:30 GMT
      Server:
      - openresty/1.11.2.1
      X-Cache:
      - Miss from cloudfront
      Via:
      - 1.1 f9a9e5a2fe899e7acf3e13d8d7a34642.cloudfront.net (CloudFront)
      X-Amz-Cf-Id:
      - g11KiLBIp6DqQA4kRvXPcXlZA1gSPQvM1AEoRdznTkJMuvqFUQracA==
    body:
      encoding: UTF-8
      string: '{"data":{"+url":"https://uym7.test-app.link/vvb0YimnQO","~creation_source":0,"$one_time_use":false,"~id":"550700216958093103","~channel":"retest","~feature":"test","url":"https://uym7.test-app.link/vvb0YimnQO"},"type":0,"feature":"test","channel":"retest"}'
    http_version: 
  recorded_at: Wed, 25 Jul 2018 16:16:30 GMT
- request:
    method: get
    uri: https://api.branch.io/v1/url?branch_key=<BRANCH_KEY>&url=https://uym7.test-app.link/vvb0YimnQO
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Content-Type:
      - application/json
      Accept:
      - application/json
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '256'
      Connection:
      - keep-alive
      Access-Control-Allow-Origin:
      - "*"
      Date:
      - Wed, 25 Jul 2018 16:16:30 GMT
      Server:
      - openresty/1.11.2.1
      Vary:
      - Accept-Encoding
      X-Cache:
      - Miss from cloudfront
      Via:
      - 1.1 70baa6f69f875c9e172c9118322fd6b5.cloudfront.net (CloudFront)
      X-Amz-Cf-Id:
      - uCQ6txTs7vsbOiEfAjl1GKMrVn92eWRNjrdgPQdPHkaaH_Z6CEPztQ==
    body:
      encoding: UTF-8
      string: '{"data":{"+url":"https://uym7.test-app.link/vvb0YimnQO","~creation_source":0,"~id":"550700216958093103","$one_time_use":false,"~channel":"retest","~feature":"test","url":"https://uym7.test-app.link/vvb0YimnQO"},"type":0,"feature":"test","channel":"retest"}'
    http_version: 
  recorded_at: Wed, 25 Jul 2018 16:16:30 GMT
- request:
    method: post
    uri: https://api.branch.io/v2/event/standard
    body:
      encoding: UTF-8
      string: '{"sdk":"api","branch_key":"<BRANCH_KEY>"}'
    headers:
      Content-Type:
      - application/json
      Accept:
      - application/json
  response:
    status:
      code: 400
      message: Bad Request
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '49'
      Connection:
      - keep-alive
      Access-Control-Allow-Origin:
      - "*"
      Date:
      - Wed, 25 Jul 2018 16:16:31 GMT
      Server:
      - openresty/1.11.2.1
      X-Cache:
      - Error from cloudfront
      Via:
      - 1.1 34a84b82ff144b427f99aaae61510d21.cloudfront.net (CloudFront)
      X-Amz-Cf-Id:
      - qqjvlvgANLysmtCmei6mzcUrQ0M_odEN_NaH_PWiaXfwUMIA3xlXjw==
    body:
      encoding: UTF-8
      string: '{"error":{"user_data":"missing required field"}}

'
    http_version: 
  recorded_at: Wed, 25 Jul 2018 16:16:31 GMT
- request:
    method: post
    uri: https://api.branch.io/v2/event/standard
    body:
      encoding: UTF-8
      string: '{"sdk":"api","branch_key":"<BRANCH_KEY>","name":"PURCHASE","user_data":{"environment":"FULL_APP"},"event_data":{"currency":"USD","shipping":5,"tax":0,"revenue":35,"transaction_id":"Order-11"}}'
    headers:
      Content-Type:
      - application/json
      Accept:
      - application/json
  response:
    status:
      code: 400
      message: Bad Request
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '224'
      Connection:
      - keep-alive
      Access-Control-Allow-Origin:
      - "*"
      Date:
      - Wed, 25 Jul 2018 16:16:31 GMT
      Server:
      - openresty/1.11.2.1
      X-Cache:
      - Error from cloudfront
      Via:
      - 1.1 fb176da9df72832dd488674f28c0a880.cloudfront.net (CloudFront)
      X-Amz-Cf-Id:
      - c6kqdW63aB_QqnvC8hPVPRwm_VHsTEzPyDRwYvEHNvvvXsPmoqsq9w==
    body:
      encoding: UTF-8
      string: '{"error":{"user_data":["Request with non-mobile OS should have developer_identity
        and\/or browser_fingerprint_id","Request with non-mobile OS should have developer_identity
        and\/or browser_fingerprint_id"],"event_data":{}}}

'
    http_version: 
  recorded_at: Wed, 25 Jul 2018 16:16:32 GMT
- request:
    method: post
    uri: https://api.branch.io/v2/event/standard
    body:
      encoding: UTF-8
      string: '{"sdk":"api","branch_key":"<BRANCH_KEY>","name":"PURCHASE","user_data":{"os":"iOS","os_version":"11.0.1","environment":"FULL_APP","developer_identity":"1","app_version":"1.0.1"},"custom_data":{"purchase_location":"Joes
        Liquor Barn","store_pickup":"unavailable"},"event_data":{"currency":"USD","shipping":5,"tax":0,"revenue":35,"transaction_id":"Order-11"},"content_items":[{"$content_schema":"COMMERCE_PRODUCT","$price":100,"$quantity":2,"$sku":"112320","$product_name":"Domaine
        de la Romanee-Conti Romanee-Conti Grand Cru 1990.","$product_category":"FOOD_BEVERAGES_AND_TOBACCO","$product_variant":"750ml
        Current Vintage"}],"metadata":{}}'
    headers:
      Content-Type:
      - application/json
      Accept:
      - application/json
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '29'
      Connection:
      - keep-alive
      Access-Control-Allow-Origin:
      - "*"
      Date:
      - Wed, 25 Jul 2018 16:16:32 GMT
      Server:
      - openresty/1.11.2.1
      X-Branch-Event-Extra:
      - "{}"
      X-Cache:
      - Miss from cloudfront
      Via:
      - 1.1 91085d9a0810fca6dacd51dae7dd6a32.cloudfront.net (CloudFront)
      X-Amz-Cf-Id:
      - VNYJBeiYpLl7yUKsJMy6CYAezO_IirVF-xMig7rlA89jbiZBalohkA==
    body:
      encoding: UTF-8
      string: '{"branch_view_enabled":false}'
    http_version: 
  recorded_at: Wed, 25 Jul 2018 16:16:32 GMT
- request:
    method: post
    uri: https://api.branch.io/v2/event/standard
    body:
      encoding: UTF-8
      string: '{"sdk":"api","branch_key":"<BRANCH_KEY>","name":"PURCHASE","user_data":{"os":"Android","os_version":"4.0.0","environment":"FULL_APP","developer_identity":"1","app_version":"1.0.1"},"event_data":{"currency":"USD","shipping":5,"tax":0,"revenue":35,"transaction_id":"Order-11"}}'
    headers:
      Content-Type:
      - application/json
      Accept:
      - application/json
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '29'
      Connection:
      - keep-alive
      Access-Control-Allow-Origin:
      - "*"
      Date:
      - Wed, 25 Jul 2018 16:16:33 GMT
      Server:
      - openresty/1.11.2.1
      X-Branch-Event-Extra:
      - "{}"
      X-Cache:
      - Miss from cloudfront
      Via:
      - 1.1 1728256c36c9016e0b9379e91a1c2e68.cloudfront.net (CloudFront)
      X-Amz-Cf-Id:
      - mhdgCP-seFys2XQT4MsxxxjhGR6XPtyvYIoHIQ_PLplr4aN-N7Dt1A==
    body:
      encoding: UTF-8
      string: '{"branch_view_enabled":false}'
    http_version: 
  recorded_at: Wed, 25 Jul 2018 16:16:33 GMT
- request:
    method: post
    uri: https://api.branch.io/v2/event/standard
    body:
      encoding: UTF-8
      string: '{"sdk":"api","branch_key":"<BRANCH_KEY>","name":"RANDOM_EVENT_NAME","user_data":{"os":"iOS","os_version":"11.0.1","environment":"FULL_APP","developer_identity":"1","app_version":"1.0.1"},"custom_data":{"purchase_location":"Joes
        Liquor Barn","store_pickup":"unavailable"},"event_data":{"currency":"USD","shipping":5,"tax":0,"revenue":35,"transaction_id":"Order-11"},"content_items":[{"$content_schema":"COMMERCE_PRODUCT","$price":100,"$quantity":2,"$sku":"112320","$product_name":"Domaine
        de la Romanee-Conti Romanee-Conti Grand Cru 1990.","$product_category":"FOOD_BEVERAGES_AND_TOBACCO","$product_variant":"750ml
        Current Vintage"}],"metadata":{}}'
    headers:
      Content-Type:
      - application/json
      Accept:
      - application/json
  response:
    status:
      code: 400
      message: Bad Request
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '94'
      Connection:
      - keep-alive
      Access-Control-Allow-Origin:
      - "*"
      Date:
      - Wed, 25 Jul 2018 16:16:33 GMT
      Server:
      - openresty/1.11.2.1
      X-Cache:
      - Error from cloudfront
      Via:
      - 1.1 a0dab1619e09a1e6e84a759dfdfe7343.cloudfront.net (CloudFront)
      X-Amz-Cf-Id:
      - F-noJiOp3U9u4Odu9cnltwZwAzWsaAlqdo9GQ9eodX6c4HfszMV8Wg==
    body:
      encoding: UTF-8
      string: '{"error":{"content_items":[{}],"custom_data":{},"name":"not a valid
        option","event_data":{}}}

'
    http_version: 
  recorded_at: Wed, 25 Jul 2018 16:16:33 GMT
- request:
    method: post
    uri: https://api.branch.io/v2/event/custom
    body:
      encoding: UTF-8
      string: '{"sdk":"api","branch_key":"<BRANCH_KEY>"}'
    headers:
      Content-Type:
      - application/json
      Accept:
      - application/json
  response:
    status:
      code: 400
      message: Bad Request
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '49'
      Connection:
      - keep-alive
      Access-Control-Allow-Origin:
      - "*"
      Date:
      - Wed, 25 Jul 2018 16:16:34 GMT
      Server:
      - openresty/1.11.2.1
      X-Cache:
      - Error from cloudfront
      Via:
      - 1.1 a0dab1619e09a1e6e84a759dfdfe7343.cloudfront.net (CloudFront)
      X-Amz-Cf-Id:
      - jSqnI5GrbiVyGKGydrVUqI0QzYTC5H5WZOSBPzPJWVf_T1zsAQfLHQ==
    body:
      encoding: UTF-8
      string: '{"error":{"user_data":"missing required field"}}

'
    http_version: 
  recorded_at: Wed, 25 Jul 2018 16:16:34 GMT
- request:
    method: post
    uri: https://api.branch.io/v2/event/standard
    body:
      encoding: UTF-8
      string: '{"sdk":"api","branch_key":"<BRANCH_KEY>","name":"TAKING PICTURE","user_data":{"os":"iOS","os_version":"11.0.1","environment":"FULL_APP","developer_identity":"1","app_version":"1.0.1"},"custom_data":{"picture_location":"Joes
        Liquor Barn"}}'
    headers:
      Content-Type:
      - application/json
      Accept:
      - application/json
  response:
    status:
      code: 400
      message: Bad Request
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '57'
      Connection:
      - keep-alive
      Access-Control-Allow-Origin:
      - "*"
      Date:
      - Wed, 25 Jul 2018 16:16:35 GMT
      Server:
      - openresty/1.11.2.1
      X-Cache:
      - Error from cloudfront
      Via:
      - 1.1 dc82e67c3cbbf5963a8de3bcf19baccc.cloudfront.net (CloudFront)
      X-Amz-Cf-Id:
      - NgyPJVXGS8b841S-x8l7mF7YBkRrERB-MlagMndwk5e-LQB6Ouk-gA==
    body:
      encoding: UTF-8
      string: '{"error":{"name":"not a valid option","custom_data":{}}}

'
    http_version: 
  recorded_at: Wed, 25 Jul 2018 16:16:35 GMT
- request:
    method: post
    uri: https://api.branch.io/v2/event/custom
    body:
      encoding: UTF-8
      string: '{"sdk":"api","branch_key":"<BRANCH_KEY>","name":"TAKING PICTURE","user_data":{"os":"iOS","os_version":"11.0.1","environment":"FULL_APP","developer_identity":"1","app_version":"1.0.1"},"custom_data":{"picture_location":"Joes
        Liquor Barn"}}'
    headers:
      Content-Type:
      - application/json
      Accept:
      - application/json
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Content-Length:
      - '29'
      Connection:
      - keep-alive
      Access-Control-Allow-Origin:
      - "*"
      Date:
      - Wed, 25 Jul 2018 16:25:06 GMT
      Server:
      - openresty/1.11.2.1
      X-Branch-Event-Extra:
      - "{}"
      X-Cache:
      - Miss from cloudfront
      Via:
      - 1.1 f92e2b771ebc524db2f478f72162e565.cloudfront.net (CloudFront)
      X-Amz-Cf-Id:
      - v814fYmiNxU_IRGnjoQsZHg_FLfn8pflTUBsUb66dNlcVijA1pkxaQ==
    body:
      encoding: UTF-8
      string: '{"branch_view_enabled":false}'
    http_version: 
  recorded_at: Wed, 25 Jul 2018 16:25:06 GMT
recorded_with: VCR 3.0.3
